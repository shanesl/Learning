# RSI分析

## 学习目标

- 目标
  - 说明RSI指标的交易信号
  - 应用talib.RSI实现指标计算与结果分析
- 应用
  - 无

什么是RSI？

![RSI图](/images/RSI图.png)

## 1、RSI相对强弱指数

相对强弱指数（RSI）是通过**比较一段时期内的平均收盘涨数和平均收盘跌数**来分析市场买沽盘的意向和实力，从而作出未来市场的走势。

>  注：RSI在1978年6月由WellsWider创制的一种通过特定时期内股价的变动情况计算市场买卖力量对比，来判断股票价格内部本质强弱、推测价格未来的变动方向的技术指标。



## 2、RSI原理和计算方法

* 1、相对强弱指标的区间段
  * RSI6一般是6日相对强弱指标
  * RSI12 一般是12日相对强弱指标
  * RSI24一般是24日相对强弱指标
* 2、强弱指标的计算公式如下
  * RSI=100×RS/(1+RS) 或者 RSI=100－100÷(1+RS)
  * RS=X天的平均上涨点数/X天的平均下跌点数
* 3、RS计算方式
  * RS=14天内收市价上涨数之和的平均值/14天内收市价下跌数之和的平均值

为了更好的理解上面的公式，通过下面的计算案例：

![RSI计算例子](/images/RSI计算例子.png)



## 3、RSI交易信号判断

### 3.1 RSI值的意义

* （1）受计算公式的限制，不论价位如何变动，**强弱指标的值均在0与100之间。**
* （2）强弱指标**保持高于50表示为强势市场**，**反之低于50表示为弱势市场。**
* （3）**强弱指标多在70与30之间波动。**当六日指标上升到达80时，表示股市已有超买现象，如果一旦继续上升，超过90以上时，则表示已到严重超买的警戒区，股价已形成头部，极可能在短期内反转回转。
* 比如：**在牛市时，通常蓝筹股的强弱指数若是80，便属超买，若是30便属超卖**，至于二三线股，强弱指数若是85至90，便属超买，若是20至25，便属超卖。因此我们对一只股票采取买/卖行动前，一定要先找出该只股票的超买/超卖水平。至于衡量一只股票的超买/超卖水平，我们可以参考该股票过去12个月之强弱指标记录。

### 3.2 长短线结合来判断交易

* 1．白色的短期RSI值在20以下，由下向上交叉黄色的长期RSI值时为买入信号。
* 2．白色的短期RSI值在80以上，由上向下交叉黄色的长期RSI值时为卖出信号。

## 案例：RSI指标计算以及交易判断实现

* RSI指标计算

![RSI函数](/images/RSI函数.png)

* 传入的参数序列必须是Numpy序列
* real:返回固定区间内的柱状图值

```python
# 通过taLib计算出RSI的指标值
# 断线RSI
short_rsi = talib.RSI(stock_day['close'].values, timeperiod=6)
# 长线RSI
long_rsi = talib.RSI(stock_day['close'].values, timeperiod=12)
```

* 交易判断实现

```python
# 进行交易的一个判断
for i in range(1, 200):
    # 取出短线RSI
    s = short_rsi[i]
    
    # 取出长线的RSI值
    l = long_rsi[i]
    
    # 交易信号信号输入
    # 卖出信号：在交叉点之前，短线< 长线，交叉点之后：断线 >长线
    if s < 45 and short_rsi[i-1] < long_rsi[i-1] and short_rsi[i] > long_rsi[i]:
        
        # 进行买入
        print("买入某某股票多少股")
    
    # 交易信号，卖出的判断：在交叉点之前，短线 > 长线，交叉点之后：短线 <长线
    if s > 65 and short_rsi[i-1] > long_rsi[i-1] and short_rsi[i] < long_rsi[i]:
    
        print("卖出的某某股票多少股")
```

## 4、RSI总结

尤其在市场剧烈震荡时，还应参考其它指标进行综合分析，不能简单地依赖RSI的信号来作出买卖决定，可以和MACD结合一起使用。